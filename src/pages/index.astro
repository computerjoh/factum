---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import heroImage from "../assets/gym.webp";
import gym1 from "../assets/gym-1.png";
import gym2 from "../assets/gym-2.png";
import gym3 from "../assets/gym-3.png";
import gym4 from "../assets/gym-4.png";
import Navbar from "../components/Navbar.astro";
import StaffGrid from "../components/StaffGrid.astro";
import { navLinks } from "../data/navLinks";
import Layout from "../layouts/Layout.astro";

const services = (await getCollection("services"))
	.sort((a, b) => a.data.order - b.data.order)
	.map(({ data }) => data);

const staff = (await getCollection("staff"))
	.sort((a, b) => a.data.order - b.data.order)
	.map(({ data }) => data);

const slides = Array.from({ length: 8 }, (_, i) => `Slide ${i + 1}`);

const gallery = [
	{ src: gym1, label: "Main lifting floor" },
	{ src: gym2, label: "Full rack lineup" },
	{ src: gym3, label: "Conditioning zone" },
	{ src: gym4, label: "Cable and strength area" },
];
---

<Layout
	title="Factum Performance and Wellness"
	description="Join Factum to achieve greatness with training, nutrition, and wellness services built to fortify your potential."
>
	<Navbar
		navLinks={navLinks}
		instagramUrl="https://www.instagram.com/factum_performance/"
		instagramHandle="@factum_performance"
	/>
	<main id="main" class="scroll-mt-28">
		<section
			class="relative isolate overflow-hidden border-b border-slate-200 scroll-mt-28"
		>
			<Image
				src={heroImage}
				alt="Athlete training at the gym"
				class="absolute inset-0 h-full w-full object-cover"
				loading="eager"
				sizes="100vw"
			/>
			<div
				class="absolute inset-0 bg-linear-to-r from-black/70 via-black/50 to-black/10"
			>
			</div>
			<div
				class="relative mx-auto flex min-h-[85vh] max-w-6xl flex-col justify-center gap-10 px-4 py-24 sm:px-6 sm:py-28 lg:px-0 lg:py-32"
			>
				<div class="max-w-3xl space-y-6 text-white">
					<p
						class="inline-flex flex-col items-start gap-1 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-[11px] font-semibold uppercase tracking-[0.12em] sm:flex-row sm:items-center sm:gap-3 sm:text-xs sm:tracking-[0.2em]"
					>
						<span>Achieve greatness</span>
						<span class="h-1.5 w-1.5 rounded-full bg-rose-400"
						></span>
						<span>Fortify your potential</span>
					</p>
					<h1
						class="text-4xl font-semibold leading-tight sm:text-5xl"
					>
						Join the all-In-One Performance and Wellness Gym
					</h1>
					<p class="text-lg text-white/80">
						Improve your health. Optimize your potential. Factum
						combines elite training, recovery, and nutrition under
						one roof.
					</p>
					<div class="flex flex-wrap items-center gap-4">
						<a
							href="#contact"
							class="rounded-full bg-rose-600 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-rose-500/25 transition hover:bg-rose-500"
							>Contact us</a
						>
						<a
							href="#services"
							class="rounded-full border border-white/60 px-6 py-3 text-sm font-semibold text-white transition hover:border-white"
							>Explore services</a
						>
					</div>
				</div>
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-0">
			<div class="space-y-4 scroll-mt-28" id="about">
				<p
					class="text-xs font-semibold uppercase tracking-[0.2em] text-rose-600"
				>
					About Factum Performance and Wellness
				</p>
				<h2 class="text-3xl font-semibold text-slate-900 sm:text-4xl">
					About Factum Performance and wellness
				</h2>
				<p class="text-lg text-slate-700 leading-relaxed">
					Factum Performance and Wellness is home to a dedicated team
					of professionals passionate about holistic health. Our
					diverse team includes trainers, coaches, dietitians,
					counselors, and Pilates instructors, ensuring comprehensive
					support for all wellness needs. We prioritize a friendly,
					welcoming atmosphere where every client feels supported and
					empowered. Through close collaboration, we help clients
					achieve specific goals, whether it's improving physique,
					recovering from injury with our FORTIFY program, or
					enhancing athletic performance. At Factum, our goal is for
					everyone who walks through our doors to leave smiling and
					closer to their personal wellness objectives.
				</p>
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-0">
			<div
				id="services"
				class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between scroll-mt-28"
			>
				<div>
					<p
						class="text-xs font-semibold uppercase tracking-[0.2em] text-rose-600"
					>
						Our Services
					</p>
					<h2
						class="text-3xl font-semibold text-slate-900 sm:text-4xl"
					>
						Programs built for every athlete
					</h2>
				</div>
			</div>
			<div
				class="mt-10 grid auto-rows-[1fr] gap-6 sm:grid-cols-2 xl:grid-cols-3"
			>
				{
					services.map((service, index) => (
						<article class="relative flex h-full flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg shadow-slate-200/80">
							{service.image && (
								<div class="relative aspect-4/3 overflow-hidden">
									{typeof service.image === "string" ? (
										<img
											src={service.image}
											alt={service.title}
											class="h-full w-full object-cover"
											loading={
												index === 0 ? "eager" : "lazy"
											}
										/>
									) : (
										<Image
											src={service.image}
											alt={service.title}
											width={520}
											height={320}
											class="h-full w-full object-cover"
											loading={
												index === 0 ? "eager" : "lazy"
											}
										/>
									)}
									<div class="absolute inset-0 bg-linear-to-t from-black/60 via-black/10 to-transparent opacity-70" />
								</div>
							)}
							<div class="flex flex-1 flex-col gap-3 p-5 text-sm leading-relaxed text-slate-700">
								<p class="text-lg font-semibold text-slate-900">
									{service.title}
								</p>
								<p class="text-slate-700/90">{service.copy}</p>
							</div>
						</article>
					))
				}
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-0">
			<div
				id="facility"
				class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between scroll-mt-28"
			>
				<div>
					<p
						class="text-xs font-semibold uppercase tracking-[0.2em] text-rose-600"
					>
						Inside Factum
					</p>
					<h2
						class="text-3xl font-semibold text-slate-900 sm:text-4xl"
					>
						Spaces built to perform
					</h2>
				</div>
			</div>
			<div
				class="mt-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"
			>
				{
					gallery.map((item) => (
						<div class="overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg shadow-rose-100">
							<div class="aspect-4/3 w-full overflow-hidden">
								<Image
									src={item.src}
									alt={item.label}
									width={item.src.width}
									height={item.src.height}
									class="h-full w-full rounded-none object-cover"
									loading="lazy"
								/>
							</div>
						</div>
					))
				}
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-0">
			<div
				id="staff"
				class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between scroll-mt-28"
			>
				<div>
					<p
						class="text-xs font-semibold uppercase tracking-[0.2em] text-rose-600"
					>
						Our Staff
					</p>
					<h2
						class="text-3xl font-semibold text-slate-900 sm:text-4xl"
					>
						Meet the people guiding your next win
					</h2>
				</div>
				<p class="text-sm text-slate-600">
					Certified. Caring. Ready to push you.
				</p>
			</div>
			<div class="mt-10">
				<StaffGrid staff={staff} />
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-0">
			<div
				id="contact"
				class="rounded-3xl border border-slate-200 bg-white p-8 shadow-lg shadow-rose-100 sm:p-10 scroll-mt-28"
			>
				<div
					class="grid gap-8 md:grid-cols-[1.2fr_1fr] md:items-center"
				>
					<div class="space-y-4">
						<p
							class="text-xs font-semibold uppercase tracking-[0.2em] text-rose-600"
						>
							Contact
						</p>
						<h2
							class="text-3xl font-semibold text-slate-900 sm:text-4xl"
						>
							Factum Performance and Wellness
						</h2>
						<div
							class="space-y-2 text-base text-slate-700 leading-relaxed"
						>
							<p class="font-semibold text-slate-900">
								Highland place 1
							</p>
							<p>
								8085 South Chester Street Unit 240<br />
								Centennial, Colorado 80112
							</p>
						</div>
					</div>
					<div
						class="space-y-4 rounded-2xl border border-slate-200 bg-slate-50 p-6 text-base text-slate-800"
					>
						<p class="font-semibold text-slate-900">Get in touch</p>
						<div class="space-y-2">
							<a
								class="block text-rose-600 hover:text-rose-700"
								href="mailto:FactumPW@gmail.com"
							>
								FactumPW@gmail.com
							</a>
							<a
								class="block text-rose-600 hover:text-rose-700"
								href="tel:+18603243373"
							>
								(860) 324 3373
							</a>
						</div>
						<div class="flex flex-wrap gap-3">
							<a
								class="inline-flex items-center justify-center rounded-full bg-rose-600 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/25 transition hover:bg-rose-500"
								href="mailto:FactumPW@gmail.com"
							>
								Email us
							</a>
							<a
								class="inline-flex items-center justify-center rounded-full border border-rose-200 bg-white px-5 py-2 text-sm font-semibold text-rose-600 transition hover:border-rose-300 hover:text-rose-700"
								href="tel:+18603243373"
							>
								Call us
							</a>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>
</Layout>
